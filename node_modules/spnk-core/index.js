"use strict";
const youtube = require('./src/Platforms/YouTube.js');
const spotify = require('./src/Platforms/Spotify.js');
const {File, Url} = require('./src/Global/FFMPEG.js');
const file = (stream, options = {}) => File(stream, options);
const OtherUrl = (url, options = {}) => Url({url: url}, options);
const setFFmpeg = (path) => process.env.FFmpeg = String(path);

const spnk = (url, options) => {
    if (typeof url !== 'string') return file(url, options);
    else if (url.match(/youtu/)) return youtube(url, options);
    else if (url.match(/open.spotify/)) return spotify(url, options);
    return OtherUrl(url, options);
};

spnk.youtube = youtube;
spnk.spotify = spotify;
spnk.file = file;
spnk.OtherUrl = OtherUrl;
spnk.setFFmpeg = setFFmpeg;

module.exports = spnk;
module.exports.youtube = youtube;
module.exports.spotify = spotify;
module.exports.file = file;
module.exports.OtherUrl = OtherUrl;
module.exports.setFFmpeg = setFFmpeg;